<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Shoot &#39;Em All: Shoot &#39;Em All</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Shoot &#39;Em All
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Shoot 'Em All </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Authors</h2>
<ul>
<li>Kasper De Volder</li>
<li>Brian Segers</li>
<li>Vladimir Poliakov</li>
</ul>
<h2>Documentation</h2>
<p>Doxygen generated documentation is available in docs/html/index.html</p>
<h2>Game description</h2>
<p>The point of the game is to defeat all enemies and stay alive. Protagonist can only move while his energy level is higher than zero. Protagonist will not move if the target point is further than he can afford with energy that he has at the moment. Every time protagonist moves according amount of energy is being spent. Every time protagonist interact with an object, e.g. picks up a health pack or attack the enemy, the energy level is restored.</p>
<p>The hero can die because of two reasons:</p><ul>
<li>The enemy that hero has attacked is stronger than the hero's health level</li>
<li>The hero has been poisoned with a poison level bigger than hero's health level. In that case the protagonist still has one move to pick a health pack before he will die.</li>
</ul>
<p>Before starting the game, player should pick the level, number of enemies and health packs in the world and a level of optimization for the model's controller:</p>
<div class="image">
<img src="/home/bobiko/ku-leuven/media-processing/labs/finaltask/finaltask/img/popup.png"  alt="img def"/>
</div>
<p>Afterwards the main window will appear allowing player to move across the world and beat enemies:</p>
<div class="image">
<img src="/home/bobiko/ku-leuven/media-processing/labs/finaltask/finaltask/img/mainwindow.png"  alt="img def"/>
</div>
<p>Player can switch between graphical and terminal view at any moment by clicking <code>Switch view</code> button. Speed of animation can also be changed using <code>Set animation speed</code> slider. Player can change or restart the world any time by clicking <code>World-&gt;Load world..</code></p>
<h2>Project description</h2>
<p>This project is an implementation of Media Processing course's final task. The purpose is to create a game in which the player can mode across labyrinth and defeat enemies. The game should be implemented with two views: graphical and terminal-like.</p>
<p>In graphical view, the player can move with keyboard or mouse. Protagonist is displayed as blue circle, enemies are the red circles, poison area of the enemy is displayed as yellow circle, health packs are the green circles.</p>
<p>Protagonist path finding should be performed in shortest time possible. For that purpose some path finding algorithm should be introduced. Since different algorithms can be used/implemented, application should be able to use any of them, which means that a unified interface for path finding class should be implemented.</p>
<h2>Main class diagram:</h2>
<p>Following diagram represents the model of the system divided into packages. Each package reprsesents separate module.</p>
<div class="image">
<img src="/home/bobiko/ku-leuven/media-processing/labs/finaltask/finaltask/uml/main.png"  alt="img def"/>
</div>
<p><code>libworld</code> is a third party library for generating the level and level objects: protagonist, health packs, enemies. <code>model</code> package represents the model component of the application. <code>terminalview</code> and <code>graphicsview</code> are view components of the system. <code>controller</code> package represents model controller component. Since different algorithms can be later implemented for path finding, abstract class <code><a class="el" href="d9/ddc/classWorldAbstractController.html" title="Abstract controller class. ">WorldAbstractController</a></code> and factory class <code><a class="el" href="dd/d44/classWorldControllerFactory.html" title="Controller factory class. ">WorldControllerFactory</a></code>are introduced.</p>
<h2>Model package</h2>
<p><code>model</code> package is the implementation of the model component of the application. <code>model</code> package class diagram is shown below:</p>
<div class="image">
<img src="/home/bobiko/ku-leuven/media-processing/labs/finaltask/finaltask/uml/model.png"  alt="img def"/>
</div>
<p><code>model</code> package includes <code><a class="el" href="dc/dd7/classWorldModel.html" title="Model component implementation. ">WorldModel</a></code> class. <code><a class="el" href="dc/dd7/classWorldModel.html" title="Model component implementation. ">WorldModel</a></code> stores information about the world and object that has been created (world tiles, health packs, enemies, protagonist, level image), as well as it provides interfaces to get information about the model to views. Model also owns its controller, which is used to perform protagonist movement. View can call protagonist movement by calling <code><a class="el" href="dc/dd7/classWorldModel.html#ae02716d99230f6edb0f7caf5b469bc1c" title="Move the protagonist to a certain position. ">WorldModel::move()</a></code> function.In that case, model will call appropriate controller function to find the shortest path to the target.</p>
<h2>Controller package</h2>
<p><code>controller</code> package includes abstract class <code><a class="el" href="d9/ddc/classWorldAbstractController.html" title="Abstract controller class. ">WorldAbstractController</a></code>, one its successor <code><a class="el" href="dd/d9f/classAStarController.html" title="A* controller. ">AStarController</a></code>, and a factory class <code><a class="el" href="dd/d44/classWorldControllerFactory.html" title="Controller factory class. ">WorldControllerFactory</a></code>. Following diagram visualizes their relations:</p>
<div class="image">
<img src="/home/bobiko/ku-leuven/media-processing/labs/finaltask/finaltask/uml/controller.png"  alt="img def"/>
</div>
<p>Static method <code>createController()</code> is used by <a class="el" href="dc/dd7/classWorldModel.html" title="Model component implementation. ">WorldModel</a> in order to create a controller of a certain type.In order to implement a new controller, it should be inherited from <code>AbstractController</code>, <code>findPath()</code> function should be implemented, and its type should be added to <code>ControllerType</code>enumeration. For demonstration purposes, only <code><a class="el" href="dd/d9f/classAStarController.html" title="A* controller. ">AStarController</a></code> is implemented.</p>
<h2>Strategy packages</h2>
<p><code>strategy</code> package implements the AI component of the application. The diagram of the package is given below:</p>
<div class="image">
<img src="/home/bobiko/ku-leuven/media-processing/labs/finaltask/finaltask/uml/strategy.png"  alt="img def"/>
</div>
<p><code><a class="el" href="d9/da5/classWorldStrategy.html" title="AI implementation class. ">WorldStrategy</a></code> works on the following principle. At first, it checks if there is an enemy in the range of motion that has lower strength than hero's health level. If no such enemy was found, AI looks for any health pack nearby. If no health pack was found as well, AI signals that there is no moves left and stops. Nevertheless, this implementation can be upgraded. If this is the case, <code>nextMove()</code> function that defines the next target for the protagonist, should be re-implemented by the successor.</p>
<h2>Graphicsview package</h2>
<p><code>graphicsview</code> package includes <code><a class="el" href="d1/d6c/classWorldGraphicsView.html" title="Graphics view component class implementation. ">WorldGraphicsView</a></code> which is inherited from <code>QGraphcisView</code>. Following diagram shows members and relations of <code><a class="el" href="d1/d6c/classWorldGraphicsView.html" title="Graphics view component class implementation. ">WorldGraphicsView</a></code>:</p>
<div class="image">
<img src="/home/bobiko/ku-leuven/media-processing/labs/finaltask/finaltask/uml/graphicsview.png"  alt="img def"/>
</div>
<p><code><a class="el" href="d1/d6c/classWorldGraphicsView.html" title="Graphics view component class implementation. ">WorldGraphicsView</a></code> class represents graphical view based on Qt's Model-Scene-View technology. Once <code>setModel()</code> is called, <code><a class="el" href="d1/d6c/classWorldGraphicsView.html" title="Graphics view component class implementation. ">WorldGraphicsView</a></code> draws level background and creates a graphical item <code>QGraphicsEllipse</code> for each object with appropriate collor, as well as it connects each graphical item to its model object's signals, so every change in the model is automatically impacts the view. Whenever model is reset or reloaded, old scene is being deleted along with its graphical items.</p>
<h2>Terminalview package</h2>
<p><code>terminalview</code> package represents the terminal view of the game. Following diagram shows members and relations of <code><a class="el" href="d7/d3c/classWorldTerminalView.html" title="The WorldTerminalView class. ">WorldTerminalView</a></code>:</p>
<div class="image">
<img src="/home/bobiko/ku-leuven/media-processing/labs/finaltask/finaltask/uml/terminalview.png"  alt="img def"/>
</div>
<p>It has a text field for output, edit line for command input and a button to execute the command(optionally can be done with <code>Enter</code>). When <code>executeCmd()</code> is called, program reads the input and splits it into actual command and arguments. If no command was specified, help information is shown. Along with output for user commands, <code><a class="el" href="d7/d3c/classWorldTerminalView.html" title="The WorldTerminalView class. ">WorldTerminalView</a></code> automatically prints information if some changes occur, e.g. change of health level, change of protagonist position, death of the enemy, etc.</p>
<h2>TODO</h2>
<ul>
<li>[ ] Modeling<ul>
<li>[x] Architechture</li>
<li>[x] Model package</li>
<li>[x] Controller package</li>
<li>[x] View package<ul>
<li>[x] GraphicsView</li>
<li>[x] TerminalView</li>
</ul>
</li>
<li>[ ] Strategy</li>
</ul>
</li>
<li>[x] Implementing<ul>
<li>[x] Model package</li>
<li>[x] Controller package<ul>
<li>[x] AbstractController</li>
<li>[x] <a class="el" href="dd/d9f/classAStarController.html" title="A* controller. ">AStarController</a></li>
</ul>
</li>
<li>[x] View package<ul>
<li>[x] GraphicsView</li>
<li>[x] TerminalView</li>
</ul>
</li>
<li>[x] UI</li>
<li>[x] Strategy </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
